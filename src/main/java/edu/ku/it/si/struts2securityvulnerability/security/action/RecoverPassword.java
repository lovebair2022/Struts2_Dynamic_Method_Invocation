package edu.ku.it.si.struts2securityvulnerability.security.action;



import com.opensymphony.xwork2.ActionSupport;

/**
 * Acts as a controller to handle actions
 * related to recovering a user's password.
 * @author bruce phillips
 *
 */
public class RecoverPassword extends ActionSupport {
	
	private static final long serialVersionUID = 1L;
	
	private String username ;
	
	
	

	public String execute() throws Exception {
		
		String password = getPassword() ;
		
		if (password != null ) {
			
			emailPasswordToUser( password );
			
			return SUCCESS;
			
		} else {
			
			
			return INPUT ;
			
		}
		
		
		
	}




    /*
     * This method should not be public
     * since it should only be called
     * from within this class.
     * If Struts 2 dynamic method invocation has
     * not been disabled then this method
     * can be called by any user of this
     * web application.
     */
	public String getPassword() {
		
		//do work of trying to find the 
		//password associated with the 
		//username instance field and then
		//return it.  for testing just 
		//return a hard-coded value
		
		return "user_secrect_password" ;
		
	}
	

	private void emailPasswordToUser(String password) {
		
		//get email address associated with the 
		//username instance field

		//do work of emailing password to 
		//email address found for user
		
	}

	
	

	public String getUsername() {
		return username;
	}




	public void setUsername(String username) {
		this.username = username;
	}


}
